---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Phoebe Dawson Foundation" currentPath="/">
    <!-- ============ HERO ============ -->
    <section class="hero">
        <img src="/assets/group.jpg" alt="Team WWPD" class="hero-image">
        <div class="hero-overlay">
            <h1 class="hero-title">Our Sunshine Girl</h1>
            <p class="hero-subtitle">Phoebe Dawson Foundation</p>
        </div>
    </section>

    <!-- ============ OUR MISSION SECTION ============ -->
    <section class="why-section" id="mission">
        <h2 class="section-title">Our Mission</h2>
        <p class="section-subtitle">The Phoebe Dawson Foundation was established in late 2025 to honour the vibrant legacy of our "sunshine girl." Our mission is to raise funds and awareness for charities that reflect Phoebe's passion for frontline health support, nursing excellence, and practical innovations in patient care.</p>
        
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">üè•</div>
                <h3>Bear Cottage</h3>
                <p>Supporting Sydney Children's Hospital's hospice in Manly, providing respite and palliative care for children with life-limiting conditions and their families.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üåæ</div>
                <h3>Royal Far West</h3>
                <p>Helping children in rural and remote Australia access vital healthcare services‚Äîa cause close to Phoebe's heart given her rural upbringing.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">‚úàÔ∏è</div>
                <h3>Angel Flight</h3>
                <p>Enabling volunteer pilots to transport patients to medical treatment, ensuring distance is never a barrier to healthcare.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üë©‚Äç‚öïÔ∏è</div>
                <h3>Nursing Excellence</h3>
                <p>Honouring Phoebe's distinguished nursing career, from oncology wards to COVID-19 frontlines, by supporting healthcare innovation.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ü§ù</div>
                <h3>Community Connection</h3>
                <p>Empowering communities to connect through events and gala nights, making positive impacts in our lives and the lives of others.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">‚òÄÔ∏è</div>
                <h3>WWPD</h3>
                <p>What Would Phoebe Do? This question guides everything we do‚Äîcelebrating life and making the world a better place.</p>
            </div>
        </div>
    </section>

    <!-- ============ IMAGE STRIP ============ -->
    <div class="image-strip">
        <img src="/assets/cole-classic-1.jpg" alt="Cole Classic">
        <img src="/assets/LittleManly.jpg" alt="Little Manly">
        <img src="/assets/CookPark.jpg" alt="Cook Park">
        <img src="/assets/sun-run-2025-2.jpg" alt="Sun Run">
    </div>

    <!-- ============ ABOUT SECTION ============ -->
    <section class="alt-section" id="about">
        <img src="/assets/phoebe.avif" alt="Phoebe Dawson" class="alt-image">
        <div class="alt-content cream-bg">
            <p class="alt-year">1992 ‚Äì 2024</p>
            <h2>About Phoebe</h2>
            <p>Phoebe was a woman of "big life energy" who lived with immense empathy, discovering her vocation while working in a remote village medical centre in Kenya. There, she realised she could assist others through illness while brightening their day.</p>
            <p>Throughout her distinguished nursing career, she served on oncology and respiratory wards, supported the COVID-19 vaccination effort, and helped patients access life-changing technologies at Medtronic.</p>
            <a href="/about" class="alt-link">Read Phoebe's full story ‚Üí</a>
        </div>
    </section>

    <!-- ============ OUR STORY SECTION ============ -->
    <section class="alt-section reverse">
        <img src="/assets/group.jpg" alt="WWPD Team" class="alt-image">
        <div class="alt-content orange-bg">
            <h2>About the Foundation</h2>
            <p>The Phoebe Dawson Foundation was established in memory of our wife, daughter, sister, aunt, and friend, who died tragically on 19th February 2024 at the age of 31.</p>
            <p>Her husband Tim said Phoebe "lived for her family, friends and community above all else." We are committed to bringing her love, care, compassion, spirit and adventure to our work.</p>
        </div>
    </section>

    <!-- ============ STATS SECTION ============ -->
    <section class="stats-section" id="stats">
        <h2 class="section-title">Cole Classic 2026 Fundraiser</h2>
        <p class="section-subtitle" style="margin-top: -30px;">Help Team WWPD reach our fundraising goal for Bear Cottage</p>
        <div class="stats-container">
            <div class="stats-header">
                <div class="stat-box">
                    <p class="stat-label">Total Raised</p>
                    <p class="stat-value">$4,489</p>
                </div>
                <div class="stat-box">
                    <p class="stat-label">Our Goal</p>
                    <p class="stat-value orange">$5,000</p>
                </div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 90%"></div>
                </div>
            </div>
            <div class="stats-icons">
                <div class="stat-icon-box">
                    <div class="stat-icon">üèä</div>
                    <p class="stat-icon-value">29</p>
                    <p class="stat-icon-label">Swimmers</p>
                </div>
                <div class="stat-icon-box">
                    <div class="stat-icon">üèÉ</div>
                    <p class="stat-icon-value">10</p>
                    <p class="stat-icon-label">Runners</p>
                </div>
                <div class="stat-icon-box">
                    <div class="stat-icon">‚ù§Ô∏è</div>
                    <p class="stat-icon-value">90%</p>
                    <p class="stat-icon-label">Of Goal</p>
                </div>
                <div class="stat-icon-box">
                    <div class="stat-icon">üéØ</div>
                    <p class="stat-icon-value">$511</p>
                    <p class="stat-icon-label">To Go</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ============ FULL IMAGE SECTION ============ -->
    <section class="full-image-section">
        <img src="/assets/LittleManly.jpg" alt="Little Manly Beach">
        <div class="full-image-overlay">
            <div class="full-image-content">
                <h2>Community Events</h2>
                <p>From ocean swims to fun runs, gala nights to community gatherings‚Äîwe bring people together just as Phoebe always did. Check out our upcoming events and be part of the WWPD family.</p>
            </div>
        </div>
    </section>

    <!-- ============ SIGNUP SECTION ============ -->
    <section class="signup-section" id="signup">
        <div class="signup-image">
            <img src="/assets/impacts.avif" alt="Community">
            <div class="signup-badge">WWPD</div>
        </div>
        <div class="signup-content">
            <h2>Join the WWPD Family</h2>
            <p>Stay connected with our community. Get updates on events, fundraising progress, and ways you can help keep Phoebe's legacy alive.</p>
            <form class="signup-form" id="homepage-signup-form">
                <input type="email" name="email" class="signup-input" placeholder="Enter your email address" required>
                <button type="submit" class="signup-btn">Subscribe</button>
            </form>
            <p class="signup-message" id="homepage-signup-message"></p>
        </div>
    </section>

</BaseLayout>

<style>
    .signup-message {
        margin-top: 15px;
        font-size: 14px;
        min-height: 20px;
    }
    
    .signup-message.success {
        color: #4ade80;
    }
    
    .signup-message.error {
        color: #f87171;
    }
</style>

<script>
    // Newsletter signup form handler
    function setupSignupForm(formId, messageId, source) {
        const form = document.getElementById(formId);
        const message = document.getElementById(messageId);
        
        if (!form) return;
        
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const emailInput = form.querySelector('input[type="email"]');
            const submitBtn = form.querySelector('button[type="submit"]');
            const email = emailInput.value.trim();
            
            if (!email) return;
            
            // Disable form while submitting
            submitBtn.disabled = true;
            submitBtn.textContent = 'Subscribing...';
            message.className = '';
            message.textContent = '';
            
            try {
                const response = await fetch('/.netlify/functions/subscribe', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, source })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    message.className = 'success';
                    message.textContent = 'Thanks for subscribing!';
                    emailInput.value = '';
                } else {
                    throw new Error(data.error || 'Something went wrong');
                }
            } catch (error) {
                message.className = 'error';
                message.textContent = error.message;
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Subscribe';
            }
        });
    }
    
    // Initialize both forms
    document.addEventListener('DOMContentLoaded', () => {
        setupSignupForm('homepage-signup-form', 'homepage-signup-message', 'homepage');
        setupSignupForm('footer-signup-form', 'footer-signup-message', 'footer');
    });
</script>

